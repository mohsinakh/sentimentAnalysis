"use strict";(self.webpackChunksentiment_analysis=self.webpackChunksentiment_analysis||[]).push([[628],{2628:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var a=n(2483),s=n(7321),i=n(3376),l=n(6723);const r=function(){const{token:e,logout:t,host:n}=(0,a.useContext)(s.c),{state:r}=(0,i.zy)(),o=null===r||void 0===r?void 0:r.analysisData,[c,u]=(0,a.useState)(o||""),[d,y]=(0,a.useState)(""),[m,h]=(0,a.useState)(!1),[p,x]=(0,a.useState)(""),f=(0,a.useCallback)((async()=>{if(!e)return t(),void x("You must be logged in to analyze sentiment.");h(!0),x(""),y("");try{const a=await fetch("".concat(n,"/analyze-sentiment"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({text:c})});if(401===a.status&&t(),!a.ok)throw new Error("Failed to analyze sentiment");const s=await a.json();y(s.sentiment)}catch(p){x("Error analyzing sentiment. Please try again.")}finally{h(!1)}}),[e,c,t,n]);return(0,a.useEffect)((()=>{o&&(u(o),f())}),[o,f]),(0,l.jsxs)("div",{className:"sentiment-page",children:[(0,l.jsx)("h1",{children:"Real-Time Sentiment Analysis"}),(0,l.jsx)("p",{children:"Enter your text below to analyze its sentiment:"}),(0,l.jsxs)("div",{className:"input-container",children:[(0,l.jsx)("textarea",{placeholder:"Type your text here...",value:c,onChange:e=>u(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),f())},className:"sentiment-input"}),(0,l.jsx)("button",{onClick:f,className:"analyze-button",disabled:m||!c.trim(),children:m?"Analyzing...":"Analyze Sentiment"})]}),p&&(0,l.jsx)("p",{className:"error",children:p}),d&&(0,l.jsx)("div",{className:"sentiment-result",children:(0,l.jsxs)("p",{children:["Sentiment: ",(0,l.jsx)("strong",{children:d})]})})]})}}}]);
//# sourceMappingURL=628.8bf9ae23.chunk.js.map