{"version":3,"file":"static/js/121.b21737b4.chunk.js","mappings":"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","sources":["pages/Login.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\nimport \"./css/Login.css\";\nimport { useNavigate } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthContext';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Loading from './Loading'; // Import the Loading component\nimport { faEye, faEyeSlash } from '@fortawesome/free-solid-svg-icons';\n\nconst Login = () => {\n  const { login } = useContext(AuthContext); // Access login function from context\n  const [formData, setFormData] = useState({ credential: '', password: '' });\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false); // Loading state\n  const [showPassword, setShowPassword] = useState(false); // State for showing/hiding password\n  const navigate = useNavigate();\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({ ...formData, [name]: value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setIsLoading(true); // Show loading spinner\n\n    try {\n      const response = await fetch('https://sentiment-analysis-api-eight.vercel.app/token', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(formData),\n      });\n\n      if (!response.ok) {\n        throw new Error('Invalid username/email or password');\n      }\n\n      const data = await response.json();\n      console.log('Access Token:', data.access_token); // Debug\n      console.log('User Data:', data.user); // Debug\n\n      // Use login function from context to store token\n      login(data.access_token);\n\n      // Optionally, save the user data in localStorage as well\n      localStorage.setItem('user', JSON.stringify(data.user)); \n\n      // Redirect to profile or another page\n      navigate('/profile');\n    } catch (err) {\n      console.error(err.message);\n      setError('Invalid username/email or password'); // Set error message\n    } finally {\n      setIsLoading(false); // Hide loading spinner\n    }\n  };\n\n  return (\n    <div className=\"login-container\">\n      <h2>Login</h2>\n      {isLoading ? (\n        <Loading /> // Show loading spinner while processing\n      ) : (\n        <form onSubmit={handleSubmit}>\n          <div>\n            <label>Username or Email:</label>\n            <input\n              type=\"text\"\n              name=\"credential\"\n              value={formData.credential}\n              onChange={handleInputChange}\n              required\n            />\n          </div>\n          <div>\n            <label>Password:</label>\n            <div className=\"password-container\">\n              <input\n                type={showPassword ? \"text\" : \"password\"} // Toggle between text and password input type\n                name=\"password\"\n                value={formData.password}\n                onChange={handleInputChange}\n                required\n              />\n              <span \n                className=\"password-toggle-icon\"\n                onClick={() => setShowPassword(!showPassword)} // Toggle the password visibility\n              >\n                {showPassword ? <FontAwesomeIcon icon={faEyeSlash} /> : <FontAwesomeIcon icon={faEye} />} {/* Show eye icon depending on the state */}\n              </span>\n            </div>\n          </div>\n          {error && <p className=\"error-message\">{error}</p>}\n          <button className='btn' type=\"submit\">Login</button>\n        </form>\n      )}\n      <p>\n        Don't have an account?{' '}\n        <span className=\"signup-link\" onClick={() => navigate('/signup')}>\n          Sign Up\n        </span>\n      </p>\n    </div>\n  );\n};\n\nexport default Login;\n","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nexport { _objectSpread2 as default };"],"names":["Login","login","useContext","AuthContext","formData","setFormData","useState","credential","password","error","setError","isLoading","setIsLoading","showPassword","setShowPassword","navigate","useNavigate","handleInputChange","e","name","value","target","_objectSpread","_jsxs","className","children","_jsx","Loading","onSubmit","async","preventDefault","response","fetch","method","headers","body","JSON","stringify","ok","Error","data","json","console","log","access_token","user","localStorage","setItem","err","message","type","onChange","required","onClick","FontAwesomeIcon","icon","faEyeSlash","faEye","_typeof","o","Symbol","iterator","constructor","prototype","toPropertyKey","t","i","r","toPrimitive","call","TypeError","String","Number","_defineProperty","Object","defineProperty","enumerable","configurable","writable","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","apply","_objectSpread2","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}