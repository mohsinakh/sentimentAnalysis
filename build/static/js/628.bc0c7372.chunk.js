"use strict";(self.webpackChunksentiment_analysis=self.webpackChunksentiment_analysis||[]).push([[628],{628:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var a=n(483),s=n(321),i=n(376),l=n(723);const r=function(){const{token:e,logout:t}=(0,a.useContext)(s.c),{state:n}=(0,i.zy)(),r=null===n||void 0===n?void 0:n.analysisData,[o,c]=(0,a.useState)(r||""),[u,y]=(0,a.useState)(""),[d,m]=(0,a.useState)(!1),[h,p]=(0,a.useState)(""),x=(0,a.useCallback)((async()=>{if(!e)return t(),void p("You must be logged in to analyze sentiment.");m(!0),p(""),y("");try{const n=await fetch("https://sentiment-analysis-api-eight.vercel.app/analyze-sentiment",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({text:o})});if(401===n.status&&t(),!n.ok)throw new Error("Failed to analyze sentiment");const a=await n.json();y(a.sentiment)}catch(h){p("Error analyzing sentiment. Please try again.")}finally{m(!1)}}),[e,o,t]);return(0,a.useEffect)((()=>{r&&(c(r),x())}),[r,x]),(0,l.jsxs)("div",{className:"sentiment-page",children:[(0,l.jsx)("h1",{children:"Real-Time Sentiment Analysis"}),(0,l.jsx)("p",{children:"Enter your text below to analyze its sentiment:"}),(0,l.jsxs)("div",{className:"input-container",children:[(0,l.jsx)("textarea",{placeholder:"Type your text here...",value:o,onChange:e=>c(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),x())},className:"sentiment-input"}),(0,l.jsx)("button",{onClick:x,className:"analyze-button",disabled:d||!o.trim(),children:d?"Analyzing...":"Analyze Sentiment"})]}),h&&(0,l.jsx)("p",{className:"error",children:h}),u&&(0,l.jsx)("div",{className:"sentiment-result",children:(0,l.jsxs)("p",{children:["Sentiment: ",(0,l.jsx)("strong",{children:u})]})})]})}}}]);
//# sourceMappingURL=628.bc0c7372.chunk.js.map